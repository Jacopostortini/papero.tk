{"remainingRequest":"/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/babel-loader/lib/index.js!/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/src/components/UserHamburgerMenu.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/src/components/UserHamburgerMenu.vue","mtime":1613679861052},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/cache-loader/dist/cjs.js","mtime":1612540564683},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/babel-loader/lib/index.js","mtime":1612540564659},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/cache-loader/dist/cjs.js","mtime":1612540564683},{"path":"/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/node_modules/vue-loader-v16/dist/index.js","mtime":1612540565495}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0TG9naW5JbmZvVXJsLCBsb2dvdXRVcmwgfSBmcm9tICIuLi9jb25zdGFudHMvY29uc3RhbnRzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VySGFtYnVyZ2VyTWVudSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICB1c2VybmFtZTogbnVsbCwKICAgICAgbG9nZ2VkOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuc2hvdyA9IGZhbHNlOwogICAgfSk7CiAgICBheGlvcy5nZXQoZ2V0TG9naW5JbmZvVXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBpZiAocmVzcG9uc2UuZGF0YSkgewogICAgICAgIC8vbG9nZ2VkIGluIGluIHNvbWUgd2F5CiAgICAgICAgX3RoaXMudXNlcm5hbWUgPSByZXNwb25zZS5kYXRhLnVzZXJuYW1lID09PSBudWxsID8gbnVsbCA6IGRlY29kZVVSSUNvbXBvbmVudChyZXNwb25zZS5kYXRhLnVzZXJuYW1lKTsKICAgICAgICBfdGhpcy5sb2dnZWQgPSByZXNwb25zZS5kYXRhLmdvb2dsZV9zaWduZWRfaW47CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgcmVkaXJlY3RUb0dvb2dsZTogZnVuY3Rpb24gcmVkaXJlY3RUb0dvb2dsZSgpIHsKICAgICAgdmFyIGZyb21fbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hdXRoL2dvb2dsZT9mcm9tX2xvY2F0aW9uPScgKyBmcm9tX2xvY2F0aW9uOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBheGlvcy5nZXQobG9nb3V0VXJsKTsKICAgICAgdGhpcy51c2VybmFtZSA9IG51bGw7CiAgICAgIHRoaXMubG9nZ2VkID0gZmFsc2U7CiAgICB9LAogICAgcGxheUF1ZGlvOiBmdW5jdGlvbiBwbGF5QXVkaW8oKSB7CiAgICAgIHZhciBzb3VuZFBsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImF1ZGlvIik7CiAgICAgIHNvdW5kUGxheWVyLnNyYyA9IHJlcXVpcmUoIkAvYXNzZXRzL2Vhc3Rlci1lZ2cud2F2Iik7CiAgICAgIHNvdW5kUGxheWVyLnNldEF0dHJpYnV0ZSgicHJlbG9hZCIsICJhdXRvIik7CiAgICAgIHNvdW5kUGxheWVyLnNldEF0dHJpYnV0ZSgiY29udHJvbHMiLCAibm9uZSIpOwogICAgICBzb3VuZFBsYXllci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNvdW5kUGxheWVyKTsKICAgICAgc291bmRQbGF5ZXIucGxheSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/media/jacopo/VolumeDati/Documenti/papero.tk/papero.tk/src/components/UserHamburgerMenu.vue"],"names":[],"mappings":"AAuBA,SAAQ,eAAR,EAAyB,SAAzB,QAAyC,wBAAzC;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,mBADO;AAEb,EAAA,IAFa,kBAEP;AACJ,WAAM;AACJ,MAAA,IAAI,EAAE,KADF;AAEJ,MAAA,QAAQ,EAAE,IAFN;AAGJ,MAAA,MAAM,EAAE;AAHJ,KAAN;AAKD,GARY;AASb,EAAA,OATa,qBASH;AAAA;;AACR,IAAA,MAAM,CAAC,gBAAP,CAAwB,OAAxB,EAAiC,YAAI;AAAC,MAAA,KAAI,CAAC,IAAL,GAAU,KAAV;AAAgB,KAAtD;AACA,IAAA,KAAI,CACD,GADH,CACO,eADP,EAEG,IAFH,CAEQ,UAAC,QAAD,EAAY;AAChB,UAAG,QAAQ,CAAC,IAAZ,EAAiB;AAAE;AACjB,QAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAT,CAAc,QAAd,KAAyB,IAAzB,GAAgC,IAAhC,GAAuC,kBAAkB,CAAC,QAAQ,CAAC,IAAT,CAAc,QAAf,CAAzE;AACA,QAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAT,CAAc,gBAA5B;AACF;AACD,KAPH;AAQD,GAnBY;AAoBb,EAAA,OAAO,EAAE;AACP,IAAA,gBADO,8BACW;AAChB,UAAI,aAAY,GAAI,MAAM,CAAC,QAA3B;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,gCAA8B,aAArD;AACD,KAJM;AAKP,IAAA,MALO,oBAKC;AACN,MAAA,KAAK,CAAC,GAAN,CAAU,SAAV;AACA,WAAK,QAAL,GAAgB,IAAhB;AACA,WAAK,MAAL,GAAc,KAAd;AACD,KATM;AAUP,IAAA,SAVO,uBAUI;AACT,UAAI,WAAU,GAAI,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAlB;AACA,MAAA,WAAW,CAAC,GAAZ,GAAkB,OAAO,CAAC,yBAAD,CAAzB;AACA,MAAA,WAAW,CAAC,YAAZ,CAAyB,SAAzB,EAAoC,MAApC;AACA,MAAA,WAAW,CAAC,YAAZ,CAAyB,UAAzB,EAAqC,MAArC;AACA,MAAA,WAAW,CAAC,KAAZ,CAAkB,OAAlB,GAA4B,MAA5B;AACA,MAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,WAA1B;AACA,MAAA,WAAW,CAAC,IAAZ;AACF;AAlBO;AApBI,CAAf","sourcesContent":["<template>\n  <div class=\"user-hamburger-menu__main-panel\" @click.stop=\"\" :class=\"{'hidden': !show}\">\n    <div class=\"user-hamburger-menu__menu\">\n      <img class=\"home-button\" src=\"@/assets/logo.png\" @click=\"playAudio\">\n      <div class=\"logged-menu\" v-if=\"username\">\n        <div>\n          <p>Username: <strong>{{username}}</strong></p>\n          <button @click=\"logout\">Logout</button>\n        </div>\n        <button class=\"proceed-with-google\" v-if=\"!logged\" @click=\"redirectToGoogle\">Activate sync with google</button>\n      </div>\n      <div class=\"not-logged-menu\" v-else>\n        <p>You are currently not logged in</p>\n        <button class=\"proceed-with-google\" @click=\"redirectToGoogle\">Sign in now with google</button>\n      </div>\n    </div>\n    <div class=\"user-hamburger-menu__icon\" @click=\"show=!show\" :class=\"{'rotated': show}\">\n      <img src=\"@/assets/hamburger_icon.png\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport {getLoginInfoUrl, logoutUrl} from \"../constants/constants\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"UserHamburgerMenu\",\n  data(){\n    return{\n      show: false,\n      username: null,\n      logged: false\n    }\n  },\n  mounted() {\n    window.addEventListener(\"click\", ()=>{this.show=false});\n    axios\n      .get(getLoginInfoUrl)\n      .then((response)=>{\n        if(response.data){ //logged in in some way\n          this.username = response.data.username===null ? null : decodeURIComponent(response.data.username);\n          this.logged = response.data.google_signed_in;\n        }\n      });\n  },\n  methods: {\n    redirectToGoogle(){\n      let from_location = window.location;\n      window.location.href = '/auth/google?from_location='+from_location;\n    },\n    logout(){\n      axios.get(logoutUrl);\n      this.username = null;\n      this.logged = false;\n    },\n    playAudio(){\n      let soundPlayer = document.createElement(\"audio\");\n      soundPlayer.src = require(\"@/assets/easter-egg.wav\");\n      soundPlayer.setAttribute(\"preload\", \"auto\");\n      soundPlayer.setAttribute(\"controls\", \"none\");\n      soundPlayer.style.display = \"none\";\n      document.body.appendChild(soundPlayer);\n      soundPlayer.play();\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/global\";\n\n.user-hamburger-menu__main-panel{\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  flex-flow: row;\n  transition: all 0.5s;\n  z-index: 200;\n\n  &.hidden{\n    transform: translateX(calc(-25vw - 1px));\n  }\n\n  .user-hamburger-menu__menu{\n    padding-top: 10%;\n    width: 25vw;\n    border-right: 1px solid white;\n    border-bottom: 1px solid white;\n    background-color: $theme-color-light;\n    overflow: hidden;\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n\n    .home-button{\n      height: 25vh;\n    }\n\n    .logged-menu{\n      margin-top: 10%;\n      height: 20vh;\n      display: flex;\n      flex-flow: column;\n      align-items: center;\n      color: white;\n      width: 100%;\n\n      div{\n        width: 100%;\n        display: flex;\n        justify-content: space-evenly;\n        align-items: center;\n        flex-wrap: wrap;\n\n        p{\n          white-space: nowrap;\n        }\n      }\n    }\n\n    .not-logged-menu{\n      margin-top: 10%;\n      height: 20vh;\n      display: flex;\n      flex-flow: column;\n      align-items: center;\n      color: white;\n\n      p{\n        margin: 10px;\n      }\n    }\n  }\n\n  .user-hamburger-menu__icon{\n    margin-top: 15px;\n    margin-left: 15px;\n    width: 5vh;\n    height: 5vh;\n    transition: all 0.5s;\n\n    img{\n      width: 100%;\n      height: 100%;\n    }\n\n    &.rotated{\n      transform: rotate(90deg);\n    }\n  }\n}\n</style>"],"sourceRoot":""}]}